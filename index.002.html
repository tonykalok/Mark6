<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>六合彩</title>

  <style>
    /* ===== Global Reset & Box Model ===== */
    * {
      box-sizing: border-box;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: #f5f7fa;
      margin: 0;
      padding: 16px;
    }

    /* ===== Layout ===== */
    .container {
      max-width: 600px;
      margin: auto;
      background: #ffffff;
      border-radius: 16px;
      padding: 28px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.08);
    }

    h1 {
      text-align: center;
      margin: 0 0 6px 0;
      letter-spacing: 1px;
    }

    .subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 28px;
      font-size: 15px;
    }

    /* ===== Form ===== */
    .form-group {
      margin-bottom: 18px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
    }

    input {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      border-radius: 10px;
      border: 1px solid #ccc;
    }

    input:focus {
      outline: none;
      border-color: #1e7cff;
    }

    button {
      width: 100%;
      margin-top: 20px;
      padding: 14px;
      font-size: 16px;
      font-weight: 700;
      border: none;
      border-radius: 12px;
      color: white;
      cursor: pointer;
      background: linear-gradient(135deg, #1e7cff, #0056cc);
      transition: transform .15s ease, box-shadow .15s ease;
    }

    button:hover {
      box-shadow: 0 6px 16px rgba(0, 86, 204, 0.35);
      transform: translateY(-1px);
    }

    button:active {
      transform: translateY(0);
      box-shadow: none;
    }

    /* ===== Messages ===== */
    .error {
      color: #d93025;
      margin-top: 14px;
      text-align: center;
      font-weight: 600;
    }

    /* ===== Results ===== */
    .results {
      margin-top: 36px;
    }

    .set {
      background: #f0f3f8;
      border-radius: 14px;
      padding: 16px;
      margin-bottom: 16px;
      display: flex;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
    }

    .ball {
      width: 48px;
      height: 48px;
      background: #ffffff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 18px;
      box-shadow: 0 4px 12px rgba(0,0,0,.15);
      transition: transform .3s ease-out, background-color .3s ease-out;
    }

    /* ===== Copy Button ===== */
    .copy-btn {
      background: linear-gradient(135deg, #28a745, #1e7e34);
      margin-top: 6px;
    }

    .copy-btn:hover {
      box-shadow: 0 6px 16px rgba(30, 126, 52, 0.35);
    }

    #copyMsg {
      display: none;
      text-align: center;
      margin-top: 12px;
      color: #28a745;
      font-weight: 700;
    }
  </style>
</head>
<body>

<div class="container">
  <h1>六合彩</h1>
  <div class="subtitle">隨機生成 1–49 的排序幸運號碼</div>

  <div class="form-group">
    <label>每組號碼數量（1–49）</label>
    <input type="number" id="numbersCount" min="6" max="49" value="6">
  </div>

  <div class="form-group">
    <label>生成組數（最多 4 組）</label>
    <input type="number" id="setsCount" min="1" max="4" value="1">
  </div>

  <button onclick="generate()">生成號碼</button>

  <div id="error" class="error"></div>

  <div id="results" class="results"></div>

  <button id="copyBtn" class="copy-btn" style="display:none" onclick="copyResults()">
    📋 複製號碼
  </button>

  <div id="copyMsg">✅ 已複製到剪貼簿</div>
</div>

<script>
  function generate() {
    const numbersCount = +document.getElementById("numbersCount").value;
    const setsCount = +document.getElementById("setsCount").value;
    const error = document.getElementById("error");
    const results = document.getElementById("results");
    const copyBtn = document.getElementById("copyBtn");
    const copyMsg = document.getElementById("copyMsg");

    error.textContent = "";
    results.innerHTML = "";
    copyBtn.style.display = "none";
    copyMsg.style.display = "none";

    if (
      numbersCount < 1 || numbersCount > 49 ||
      setsCount < 1 || setsCount > 4
    ) {
      error.textContent = "請輸入有效數字（每組最多 49 個，最多 4 組）。";
      return;
    }

    for (let i = 0; i < setsCount; i++) {
      const set = new Set();
      while (set.size < numbersCount) {
        set.add(Math.floor(Math.random() * 49) + 1);
      }

      const finalNumbers = Array.from(set).sort((a, b) => a - b);

      const setDiv = document.createElement("div");
      setDiv.className = "set";

      finalNumbers.forEach(() => {
        const ball = document.createElement("div");
        ball.className = "ball";
        ball.textContent = Math.floor(Math.random() * 49) + 1;
        setDiv.appendChild(ball);
      });

      results.appendChild(setDiv);
      animateSet(setDiv, finalNumbers);
    }

    copyBtn.style.display = "block";
  }

  function animateSet(container, finalNumbers) {
    const balls = container.querySelectorAll(".ball");

    const spinInterval = setInterval(() => {
      balls.forEach(ball => {
        ball.textContent = Math.floor(Math.random() * 49) + 1;
      });
    }, 80);

    setTimeout(() => {
      clearInterval(spinInterval);
      balls.forEach((ball, index) => {
        ball.textContent = finalNumbers[index];
        ball.style.transform = "scale(1.15)";
        ball.style.backgroundColor = "#e6f0ff";
        setTimeout(() => {
          ball.style.transform = "scale(1)";
          ball.style.backgroundColor = "#ffffff";
        }, 200);
      });
    }, 2000);
  }

  function copyResults() {
    const sets = document.querySelectorAll(".set");
    let text = "";
    sets.forEach((set, i) => {
      const nums = Array.from(set.querySelectorAll(".ball"))
        .map(b => b.textContent)
        .join(", ");
      text += `第 ${i + 1} 組：${nums}\n`;
    });

    navigator.clipboard.writeText(text);

    const msg = document.getElementById("copyMsg");
    msg.style.display = "block";
    setTimeout(() => msg.style.display = "none", 2000);
  }
</script>

</body>
</html>